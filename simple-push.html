<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EFFET PUSH - ROUGE FIXE, BLEUE ARRIVE</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #000;
            font-family: Arial, sans-serif;
            height: 100vh;
            box-sizing: border-box;
        }

        .container {
            height: calc(100vh - 40px);
            background: transparent;
            border-radius: 24px;
            overflow: hidden;
            position: relative;
        }

        .section {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
            font-weight: bold;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        #rouge { background: #ef4444; transform: translateY(0); z-index: 5; }
        #bleu { background: #3b82f6; transform: translateY(100vh); z-index: 4; }
        #vert { background: #10b981; transform: translateY(100vh); z-index: 3; }
        #orange { background: #f59e0b; transform: translateY(100vh); z-index: 2; }
        #violet { background: #8b5cf6; transform: translateY(100vh); z-index: 1; }

        .debug {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.9);
            color: black;
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="rouge" class="section active">
            <div>
                <h1>üî¥ SECTION ROUGE</h1>
                <p>üîí JE RESTE FIXE √Ä translateY(0)</p>
                <p>JE NE BOUGE JAMAIS !</p>
                <p>‚¨áÔ∏è Scroll vers le bas ‚Üí BLEUE va monter me couvrir</p>
                <div class="badge" style="position: absolute; top: 10px; right: 10px; background: white; color: red; padding: 5px 10px; border-radius: 20px; font-size: 14px;">
                    AU-DESSUS ‚≠ê
                </div>
            </div>
        </div>

        <div id="bleu" class="section">
            <div>
                <h1>üîµ SECTION BLEUE</h1>
                <p>‚¨áÔ∏è JE SUIS EN BAS √Ä translateY(100vh)</p>
                <p>üéØ JE VAIS MONTER COUVRIR LA ROUGE</p>
                <p>‚¨ÜÔ∏è Scroll vers le haut ‚Üí je redescends</p>
                <div class="badge" style="position: absolute; top: 10px; right: 10px; background: white; color: blue; padding: 5px 10px; border-radius: 20px; font-size: 14px;">
                    EN DESSOUS
                </div>
            </div>
        </div>

        <div id="vert" class="section">
            <div>
                <h1>üü¢ SECTION VERTE</h1>
                <p>JE VAIS MONTER APR√àS LA BLEUE</p>
                <p>Continue √† scroller !</p>
                <div class="badge" style="position: absolute; top: 10px; right: 10px; background: white; color: green; padding: 5px 10px; border-radius: 20px; font-size: 14px;">
                    PR√äTE
                </div>
            </div>
        </div>

        <div id="orange" class="section">
            <div>
                <h1>üü† SECTION ORANGE</h1>
                <p>JE SUIS LA SUIVANTE !</p>
                <p>Continue √† scroller</p>
                <div class="badge" style="position: absolute; top: 10px; right: 10px; background: white; color: orange; padding: 5px 10px; border-radius: 20px; font-size: 14px;">
                    PR√äTE
                </div>
            </div>
        </div>

        <div id="violet" class="section">
            <div>
                <h1>üü£ SECTION VIOLETTE</h1>
                <p>DERNI√àRE SECTION !</p>
                <p>Scroll vers le haut pour revenir</p>
                <div class="badge" style="position: absolute; top: 10px; right: 10px; background: white; color: purple; padding: 5px 10px; border-radius: 20px; font-size: 14px;">
                    FIN
                </div>
            </div>
        </div>
    </div>

    <div class="debug" id="debug">
        Section active: ROUGE<br>
        Z-index rouge: 10<br>
        Z-index bleu: 5
    </div>

    <script>
        const sections = ['rouge', 'bleu', 'vert', 'orange', 'violet'];
        const debug = document.getElementById('debug');
        let currentIndex = 0;
        let lastScrollTime = 0;

        function updateSections() {
            sections.forEach((color, index) => {
                const section = document.getElementById(color);

                if (index === currentIndex) {
                    // Section active - au-dessus
                    section.style.transform = 'translateY(0)';
                    section.style.zIndex = '10';
                    section.classList.add('active');
                    section.querySelector('.badge').textContent = 'AU-DESSUS ‚≠ê';
                } else if (index === currentIndex + 1) {
                    // Section suivante - pr√™te en bas
                    section.style.transform = 'translateY(100vh)';
                    section.style.zIndex = '5';
                    section.classList.remove('active');
                    section.querySelector('.badge').textContent = 'PR√äTE EN BAS';
                } else {
                    // Autres sections - cach√©es
                    section.style.transform = 'translateY(100vh)';
                    section.style.zIndex = '1';
                    section.classList.remove('active');
                    section.querySelector('.badge').textContent = 'CACH√âE';
                }
            });

        function updateDebug() {
            const colorNames = { rouge: 'üî¥ ROUGE', bleu: 'üîµ BLEU', vert: 'üü¢ VERT', orange: 'üü† ORANGE', violet: 'üü£ VIOLET' };
            debug.innerHTML = `Slide actif: ${currentIndex + 1}/5<br>Couleur: ${colorNames[sections[currentIndex]]}<br>Effet: Chaque section monte couvrir la pr√©c√©dente`;
        }

        document.addEventListener('wheel', (e) => {
            e.preventDefault();

            const now = Date.now();
            if (now - lastScrollTime < 800) return; // D√©lai anti-spam de 800ms

            if (e.deltaY > 50 && currentIndex < sections.length - 1) {
                // EFFET : La section suivante monte pour couvrir l'actuelle
                const currentSection = document.getElementById(sections[currentIndex]);
                const nextSection = document.getElementById(sections[currentIndex + 1]);

                // La section actuelle descend en z-index
                currentSection.style.zIndex = '5';

                // La section suivante monte depuis le bas
                nextSection.style.transform = 'translateY(0)';
                nextSection.style.zIndex = '10';

                // Mettre √† jour les badges
                currentSection.querySelector('.badge').textContent = 'EN DESSOUS';
                nextSection.querySelector('.badge').textContent = 'AU-DESSUS ‚≠ê';

                // Mettre √† jour les classes actives
                currentSection.classList.remove('active');
                nextSection.classList.add('active');

                currentIndex++;

                // Pr√©parer la section suivante
                if (currentIndex < sections.length - 1) {
                    const futureSection = document.getElementById(sections[currentIndex + 1]);
                    futureSection.style.transform = 'translateY(100vh)';
                    futureSection.style.zIndex = '5';
                }

                updateDebug();
                lastScrollTime = now;
                console.log(`üéØ ${sections[currentIndex]} vient couvrir ${sections[currentIndex - 1]}`);
            }
            else if (e.deltaY < -50 && currentIndex > 0) {
                // EFFET : La section actuelle descend, la pr√©c√©dente remonte
                const currentSection = document.getElementById(sections[currentIndex]);
                const prevSection = document.getElementById(sections[currentIndex - 1]);

                // La section actuelle descend
                currentSection.style.transform = 'translateY(100vh)';
                currentSection.style.zIndex = '5';

                // La section pr√©c√©dente redevient visible au-dessus
                prevSection.style.zIndex = '10';

                // Mettre √† jour les badges
                currentSection.querySelector('.badge').textContent = 'EN DESSOUS';
                prevSection.querySelector('.badge').textContent = 'AU-DESSUS ‚≠ê';

                // Mettre √† jour les classes actives
                currentSection.classList.remove('active');
                prevSection.classList.add('active');

                currentIndex--;

                updateDebug();
                lastScrollTime = now;
                console.log(`üéØ ${sections[currentIndex]} redevient visible`);
            }
        }, { passive: false });

        // Initialisation
        updateSections();
        updateDebug();
        console.log('üéØ CARROUSEL CHARG√â - Chaque section monte couvrir la pr√©c√©dente !');
    </script>
</body>
</html>
